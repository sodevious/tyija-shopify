!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("javascript-time-ago")):"function"==typeof define&&define.amd?define(["react","prop-types","javascript-time-ago"],t):(e=e||self).ReactTimeAgo=t(e.React,e.PropTypes,e.JavascriptTimeAgo)}(this,(function(e,t,n){"use strict";var r="default"in e?e.default:e,o="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(){return"object"===("undefined"==typeof Intl?"undefined":i(Intl))&&"function"==typeof Intl.DateTimeFormat}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}return f(e,[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var f;if(i){if(a>=o.length)break;f=o[a++]}else{if((a=o.next()).done)break;f=a.value}var c=f;if("object"!==(void 0===e?"undefined":u(e)))return;e=e[c]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),o=t.pop(),i=this.cache,a=t,f=Array.isArray(a),c=0;for(a=f?a:a[Symbol.iterator]();;){var l;if(f){if(c>=a.length)break;l=a[c++]}else{if((c=a.next()).done)break;l=c.value}var s=l;"object"!==u(i[s])&&(i[s]={}),i=i[s]}return i[o]=r}}]),e}(),l=new c;function s(e,t){if(!a())return function(e){return e.toString()};var n=function(e){var t=e.toString();if(p[t])return p[t];return p[t]=function(e){if(a())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}(e)}(e),r=JSON.stringify(t),o=l.get(String(n),r)||l.put(String(n),r,new Intl.DateTimeFormat(n,t));return function(e){return o.format(e)}}var p={};var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(e){return(t=e)instanceof Date||function(e){return"object"===(void 0===e?"undefined":m(e))&&"function"==typeof e.getTime}(t)?e:new Date(e);var t}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var v=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){(function(){var t,n,r,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(y)})),b="undefined"==typeof window?y:window,h=["moz","webkit"],g="AnimationFrame",w=b["request"+g],T=b["cancel"+g]||b["cancelRequest"+g],S=0;!w&&S<h.length;S++)w=b[h[S]+"Request"+g],T=b[h[S]+"Cancel"+g]||b[h[S]+"CancelRequest"+g];if(!w||!T){var O=0,x=0,D=[];w=function(e){if(0===D.length){var t=v(),n=Math.max(0,1e3/60-(t-O));O=n+t,setTimeout((function(){var e=D.slice(0);D.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(O)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return D.push({handle:++x,callback:e,cancelled:!1}),x},T=function(e){for(var t=0;t<D.length;t++)D[t].handle===e&&(D[t].cancelled=!0)}}var k=function(e){return w.call(b,e)};k.cancel=function(){T.apply(b,arguments)},k.polyfill=function(e){e||(e=b),e.requestAnimationFrame=w,e.cancelAnimationFrame=T};var q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R={instances:[],add:function(e){var t=this,n=0===this.instances.length;return j(this.instances,e),n&&this.start(),{stop:function(){I(t.instances,e),0===t.instances.length&&t.stop()},forceUpdate:function(){A(e,t.instances)}}},tick:function(){for(var e=Date.now();;){var t=this.instances[0];if(!(e>=t.nextUpdateTime))break;A(t,this.instances)}},scheduleNextTick:function(){var e=this;this.scheduledTick=k((function(){e.tick(),e.scheduleNextTick()}))},start:function(){this.scheduleNextTick()},stop:function(){k.cancel(this.scheduledTick)}};function A(e,t){!function(e){var t=e.getNextValue(),n=q(t,2),r=n[0],o=n[1];e.setValue(r),e.nextUpdateTime=o}(e),I(t,e),j(t,e)}function j(e,t){var n=function(e,t){var n=t.nextUpdateTime;return function(e,t){if(0===e.length)return 0;for(var n=0,r=e.length-1,o=void 0;n<=r;){var i=t(e[o=Math.floor((r+n)/2)]);if(0===i)return o;if(i<0){if((n=o+1)>r)return n}else if((r=o-1)<n)return n}}(e,(function(e){return e.nextUpdateTime===n?0:e.nextUpdateTime>n?1:-1}))}(e,t);e.splice(n,0,t)}function I(e,t){var n=e.indexOf(t);e.splice(n,1)}var F=t.oneOfType([t.shape({minTime:t.number,formatAs:t.string.isRequired}),t.shape({test:t.func,formatAs:t.string.isRequired}),t.shape({minTime:t.number,format:t.func.isRequired}),t.shape({test:t.func,format:t.func.isRequired})]),M=t.oneOfType([t.string,t.shape({steps:t.arrayOf(F).isRequired,labels:t.oneOfType([t.string,t.arrayOf(t.string)]).isRequired,round:t.string})]),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function U(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function C(t){var o=t.date,i=t.future,a=t.timeStyle,u=t.round,f=t.minTimeLeft,c=t.tooltip,l=t.component,p=t.container,m=t.wrapperComponent,y=t.wrapperProps,v=t.locale,b=t.locales,h=t.formatVerboseDate,g=t.verboseDateFormat,w=t.updateInterval,T=t.tick,S=t.now,O=t.timeOffset,x=t.polyfill,D=U(t,["date","future","timeStyle","round","minTimeLeft","tooltip","component","container","wrapperComponent","wrapperProps","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick","now","timeOffset","polyfill"]),k=e.useMemo((function(){return v&&(b=[v]),b.concat(n.getDefaultLocale())}),[v,b]),q=e.useMemo((function(){return function(e,t){var r=String(e)+":"+String(t);return J.get(r)||J.put(r,new n(e,{polyfill:t}))}(k,x)}),[k,x]);o=e.useMemo((function(){return d(o)}),[o]);var A=e.useCallback((function(){var e=(S||Date.now())-O,t=void 0;if(i&&e>=o.getTime()&&(e=o.getTime(),t=!0),void 0!==f){var n=o.getTime()-1e3*f;e>n&&(e=n,t=!0)}var r=q.format(o,a,{getTimeToNextUpdate:!0,now:e,future:i,round:u}),c=P(r,2),l=c[0],s=c[1];return[l,e+(s=t?V:w||s||6e4)]}),[o,i,a,w,u,f,q,S]),j=e.useRef();j.current=A;var I=e.useMemo(A,[]),F=P(I,2),M=F[0],C=F[1],N=e.useState(M),L=P(N,2),z=L[0],B=L[1],G=e.useState(),H=P(G,2),K=H[0],Q=H[1],W=e.useRef();e.useEffect((function(){if(T)return W.current=R.add({getNextValue:function(){return j.current()},setValue:B,nextUpdateTime:C}),function(){return W.current.stop()}}),[T]),e.useEffect((function(){if(W.current)W.current.forceUpdate();else{var e=A(),t=P(e,1)[0];B(t)}}),[A]),e.useEffect((function(){Q(!0)}),[]);var X=e.useMemo((function(){if("undefined"!=typeof window)return s(k,g)}),[k,g]),Y=e.useMemo((function(){if("undefined"!=typeof window)return h?h(o):X(o)}),[o,h,X]),Z=r.createElement(l,E({date:o,verboseDate:K?Y:void 0,tooltip:c},D),z),$=m||p;return $?r.createElement($,E({},y,{verboseDate:K?Y:void 0}),Z):Z}C.propTypes={date:o.oneOfType([o.instanceOf(Date),o.number]).isRequired,locale:o.string,locales:o.arrayOf(o.string),future:o.bool,timeStyle:M,round:o.string,minTimeLeft:o.number,component:o.elementType.isRequired,tooltip:o.bool.isRequired,formatVerboseDate:o.func,verboseDateFormat:o.object,updateInterval:o.oneOfType([o.number,o.arrayOf(o.shape({threshold:o.number,interval:o.number.isRequired}))]),tick:o.bool,now:o.number,timeOffset:o.number,polyfill:o.bool,wrapperComponent:o.elementType,wrapperProps:o.object},C.defaultProps={locales:[],component:L,tooltip:!0,verboseDateFormat:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},tick:!0,timeOffset:0};var N=C=r.memo(C),V=31536e9;function L(t){var n=t.date,o=t.verboseDate,i=t.tooltip,a=t.children,u=U(t,["date","verboseDate","tooltip","children"]),f=e.useMemo((function(){return n.toISOString()}),[n]);return r.createElement("time",E({},u,{dateTime:f,title:i?o:void 0}),a)}L.propTypes={date:o.instanceOf(Date).isRequired,verboseDate:o.string,tooltip:o.bool.isRequired,children:o.string.isRequired};var J=new c;return N}));
//# sourceMappingURL=react-time-ago.min.js.map
